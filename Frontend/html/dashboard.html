<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - QVentor</title>
    <link rel="stylesheet" href="/css/style.css" />
    <!-- Your home page styles -->
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #0a1a3d;
        padding-top: 70px; /* Prevent navbar from overlapping content */
      }

      .navbar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
      }
      /* Remove hover effect from Admin in navbar */
      .nav-links a.active:hover {
        background-color: transparent;
        color: var(--gold); /* keep gold text */
      }

      .dashboard {
        display: flex;
      }

      .sidebar {
        width: 220px;
        background-color: #d4af7a;
        padding: 20px;
        min-height: 100vh;
      }
      .sidebar img {
        width: 60px;
        border-radius: 50%;
      }
      .sidebar h3 {
        margin: 10px 0;
        font-size: 16px;
      }
      .sidebar a {
        display: block;
        padding: 8px 0;
        color: #000;
        text-decoration: none;
        margin-bottom: 8px;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.3s;
      }
      .sidebar a:hover,
      .sidebar a.active {
        background-color: #9a774a;
        color: white;
      }
      .sidebar hr {
        margin: 20px 0;
        border: none;
        border-top: 1px solid #9a774a;
      }
      .main {
        flex: 1;
        padding: 20px;
      }
      #salesChart {
        max-width: 90%;
        height: 250px;
      }
      .stats {
        display: grid;
        grid-template-columns: repeat(3, 150px);
        gap: 20px;
        margin-bottom: 20px;
      }
      .stat-box {
        padding: 20px;
        text-align: center;
        font-weight: bold;
        color: white;
        border-radius: 8px;
      }
      .wh {
        background-color: #b08a57;
        cursor: pointer;
      }
      .alert {
        background-color: #9fa8a3;
      }
      .po {
        background-color: #5e5e5e;
      }
      .active {
        background-color: #85735d;
      }
      .inactive {
        background-color: #a08982;
      }

      /* Back Button */
      .back-btn {
        background-color: #b08a57;
        color: white;
        border: none;
        padding: 8px 15px;
        cursor: pointer;
        margin-bottom: 20px;
        border-radius: 5px;
      }
      .back-btn:hover {
        background-color: #9a774a;
      }
      /* --- Responsive Dashboard --- */

      /* Adjust stats grid for tablets */
      @media (max-width: 1024px) {
        .stats {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      /* Mobile view adjustments */
      @media (max-width: 768px) {
        /* Sidebar turns into top bar */
        .dashboard {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
          min-height: auto;
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          padding: 10px;
          position: relative;
        }

        .sidebar img {
          width: 50px;
          height: 50px;
        }

        .sidebar h3 {
          flex-basis: 100%;
          text-align: center;
          font-size: 14px;
        }

        .sidebar a {
          margin: 5px;
          padding: 6px 10px;
          font-size: 14px;
        }

        .main {
          padding: 10px;
        }

        .stats {
          grid-template-columns: 1fr;
        }

        #salesChart {
          max-width: 100%;
          height: auto;
        }
      }

      /* Extra small phones */
      @media (max-width: 480px) {
        .navbar {
          flex-wrap: wrap;
          padding: 10px;
        }
        .nav-links {
          display: none;
          flex-direction: column;
          background-color: #0a1a3d;
          width: 100%;
        }
        .nav-links.active {
          display: flex;
        }
        .menu-icon {
          display: block;
          cursor: pointer;
        }
        .sidebar {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Sticky Navbar -->
    <header class="navbar">
      <div class="logo"><span class="q">Q</span>Ventor</div>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="/html/admin.html">Admin</a>
        <a href="/html/employee-login.html">Employee</a>
        <a href="/html/our-service.html">Our Services</a>
        <a href="/html/About.html">About</a>
        <a href="/html/contact-us.html">Contact Us</a>
      </nav>
      <div class="menu-icon">&#9776;</div>
      <!-- Hamburger menu icon -->
    </header>

    <div class="dashboard">
      <div class="sidebar">
        <img
          id="adminImage"
          src="https://i.pravatar.cc/150?img=3"
          alt="Admin Photo"
        />
        <h3 id="adminDisplayName">Admin Name</h3>
        <a href="/html/profile.html">Profile</a>
        <a href="/html/add-warehouse.html">Add Warehouse</a>
        <a href="/html/access-details.html">Access Details</a>
        <a href="/html/stock-alert.html">Stock Alert</a>
        <hr />
        <a href="/html/settings.html">Settings</a>
        <a href="/html/audit-report.html">Audit Report</a>
        <a href="/html/issue-report.html">Issue Report</a>
        <a href="/html/distributor-details.html">Distributor Details</a>
      </div>

      <div class="main">
        <button class="back-btn" id="logoutBtn">â¬… Logout</button>
        <h1>Admin Dashboard</h1>
        <div class="stats">
          <div
            class="stat-box wh"
            onclick="window.location.href='/html/warehouses.html'"
          >
            <h2></h2>
            <p>NO. OF WH</p>
          </div>
          <div class="stat-box alert">
            <h2>45</h2>
            <p>ALERT</p>
          </div>
          <div class="stat-box po">
            <h2>230</h2>
            <p>PO</p>
          </div>
          <div class="stat-box active">
            <h2></h2>
            <p>ACTIVE</p>
          </div>
          <div class="stat-box inactive">
            <h2></h2>
            <p>INACTIVE</p>
          </div>
        </div>

        <canvas id="salesChart" width="500" height="150"></canvas>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const name = localStorage.getItem("adminName") || "Admin Name";
        const photo = localStorage.getItem("adminPhoto") || "adminimg.png";

        document.getElementById("adminDisplayName").textContent = name;
        document.getElementById("adminImage").src = photo;

        // GSAP Animations
        gsap.from(".sidebar", { x: -200, opacity: 0, duration: 1 });
        gsap.from(".stat-box", {
          y: 50,
          opacity: 0,
          duration: 1,
          stagger: 0.2,
        });
        gsap.from("#salesChart", { scale: 0.8, opacity: 0, duration: 1 });
      });

      // Chart.js
      const ctx = document.getElementById("salesChart").getContext("2d");
      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["Item 1", "Item 2", "Item 3", "Item 4", "Item 5"],
          datasets: [
            {
              label: "Series 1",
              data: [10, 30, 20, 40, 35],
              borderColor: "#b08a57",
              borderWidth: 2,
              fill: false,
            },
            {
              label: "Series 2",
              data: [15, 25, 35, 20, 45],
              borderColor: "#9fa8a3",
              borderWidth: 2,
              fill: false,
            },
            {
              label: "Series 3",
              data: [5, 20, 30, 25, 50],
              borderColor: "#5e5e5e",
              borderWidth: 2,
              fill: false,
            },
          ],
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              labels: { color: "#fff" },
            },
          },
          scales: {
            x: { ticks: { color: "#fff" } },
            y: { ticks: { color: "#fff" } },
          },
        },
      });
    </script>
    <script type="module" src="/js/config.js"></script>
    <script type="module" src="/js/supabase-client.js"></script>
    <script type="module" src="/js/admin-dashboard.js"></script>
  </body>
</html>
