<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Issue Report - QVentor</title>
<link rel="stylesheet" href="/css/style.css">
<style>
:root {
    --dark-blue: #0a1a3d;
    --gold: #d4af7a;
    --white: #ffffff;
    --light-blue: #11224d;
}

/* Global */
body {
    background-color: var(--dark-blue);
    color: var(--white);
    padding: 90px 20px 20px;
    margin: 0;
    font-family: Arial, sans-serif;
}
h1, p {
    color: var(--gold);
    text-align: center;
}
h1 { margin-bottom: 10px; }
p { margin-bottom: 30px; }

/* Navbar */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background-color: var(--dark-blue);
    z-index: 1000;
}
.logo {
    font-size: 2.6rem;
    font-weight: bold;
    font-family: 'Playfair Display', serif;
}
.logo .q { color: var(--gold); } 
.nav-links a {
    position: relative;
    color: white;
    text-decoration: none;
    padding: 8px 12px;
    transition: color 0.3s ease;
    font-size: 1.2em;
}
.nav-links a::after {
    content: '';
    position: absolute;
    left: 0; bottom: 0;
    width: 0%; height: 2px;
    background: var(--gold);
    transition: width 0.3s ease-in-out;
}
.nav-links a:hover { color: var(--gold); }
.nav-links a:hover::after { width: 100%; }
.nav-links a.active { color: var(--gold); font-weight: bold; }
.nav-links a.active::after { width: 100%; }

/* Button */
.back-btn { 
    background-color: var(--gold); 
    color: white; 
    padding: 8px 15px; 
    border: none; 
    border-radius: 5px; 
    cursor: pointer; 
    margin-bottom: 20px; 
    transition: transform 0.2s ease;
}
.back-btn:hover {
    transform: scale(1.05);
}

/* Table */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background: var(--light-blue);
    border-radius: 8px;
    overflow: hidden;
}
table th, table td {
    border: 1px solid #fff;
    padding: 12px;
    text-align: center;
}
table th {
    background: #0f1e40;
    color: var(--gold);
}

/* Responsive Table */
@media screen and (max-width: 768px) {
    table, thead, tbody, th, td, tr {
        display: block;
        width: 100%;
    }
    thead {
        display: none;
    }
    tr {
        margin-bottom: 15px;
        border: 1px solid #fff;
        border-radius: 8px;
        padding: 10px;
        background: #11224d;
    }
    td {
        text-align: left;
        padding: 10px;
        border: none;
        position: relative;
    }
    td::before {
        content: attr(data-label);
        font-weight: bold;
        color: var(--gold);
        display: block;
        margin-bottom: 5px;
    }
}
</style>
</head>
<body>

  <!-- Sticky Navbar -->
  <header class="navbar">
    <div class="logo"><span class="q">Q</span>Ventor</div>
    <nav class="nav-links">
            <a href="/index.html">Home</a>
            <a href="/html/admin.html">Admin</a>
            <a href="/html/employee-login.html">Employee</a>
            <a href="/html/our-service.html">Our Services</a>
            <a href="/html/About.html">About</a>
            <a href="/html/contact-us.html">Contact Us</a>
    </nav>
    <div class="menu-icon">&#9776;</div> <!-- Hamburger menu icon -->
  </header>
<button class="back-btn" onclick="window.location.href='/html/dashboard.html'">â¬… Back</button>

<h1 class="title">Employee Complaint</h1>
<p class="subtitle">Reported issues and their resolution status.</p>

<table>
    <thead>
        <tr>
            <th>Sl No.</th>
            <th>Title</th>
            <th>Category</th>
            <th>Complaint ID</th>
            <th>Description</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody id="complaintsTable">
        <!-- Complaints will be loaded here -->
    </tbody>
</table>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const complaints = JSON.parse(localStorage.getItem("complaints")) || [];
    const table = document.getElementById("complaintsTable");

    if (complaints.length === 0) {
        table.innerHTML = `<tr><td colspan="6">No complaints filed yet.</td></tr>`;
    } else {
        table.innerHTML = "";
        complaints.forEach((c, index) => {
            const row = document.createElement("tr");

            // Complaint ID auto format (C001, C002...)
            const complaintID = "C" + (index + 1).toString().padStart(3, "0");

            row.innerHTML = `
                <td data-label="Sl No.">${index + 1}</td>
                <td data-label="Title">${c.title}</td>
                <td data-label="Category">${c.category}</td>
                <td data-label="Complaint ID">${complaintID}</td>
                <td data-label="Description">${c.description}</td>
                <td data-label="Status">${c.status || "Pending"}</td>
            `;
            table.appendChild(row);
        });

        // Animate rows (simple fade-in)
        gsap.from("#complaintsTable tr", {
            opacity: 0,
            duration: 0.6,
            stagger: 0.2,
            ease: "power1.out"
        });
    }

    // Animate title & subtitle
    gsap.from(".title", { opacity: 0, y: -30, duration: 1, ease: "power2.out" });
    gsap.from(".subtitle", { opacity: 0, y: -20, duration: 1, delay: 0.3, ease: "power2.out" });

    // Animate navbar links (staggered)
    gsap.from(".nav-links a", {
        opacity: 0,
        y: -20,
        duration: 0.8,
        stagger: 0.15,
        ease: "back.out(1.7)"
    });
});
</script>

</body>
</html>
